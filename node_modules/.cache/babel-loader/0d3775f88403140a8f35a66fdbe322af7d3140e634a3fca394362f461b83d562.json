{"ast":null,"code":"import axios from \"axios\";\nexport default {\n  name: `ModalDetail`,\n  props: [`checkoutBagProps`, `totalHargaProps`],\n  methods: {\n    setCheckout: function (data) {\n      this.checkoutBagProps = data;\n      ;\n      console.log(this.checkoutBagProps);\n    },\n    ubahKeranjang: function (id, item) {\n      axios.put(\"http://localhost:3000/checkout/\" + id, {\n        id: item.id,\n        jumlah: item.jumlah,\n        size: item.size,\n        products: {\n          id: item.products.id,\n          kode: item.products.kode,\n          nama: item.products.nama,\n          harga: item.products.harga,\n          is_ready: item.products.is_ready,\n          gambar: item.products.gambar\n        }\n      }).then(() => {\n        // this.$router.push({ path : '/keranjang' })\n        this.$toast.success(`Pesanan ditambahkan ke keranjang`, {\n          duration: 3000,\n          message: `Pesanan berhasil ditambahkan`,\n          position: `top-right`,\n          dismissible: true\n        });\n        //  setelah post axios, data checkout akan langsung ditampilkan\n        axios.get(\"http://localhost:3000/checkout\").then(response => this.setCheckout(response.data)).catch(error => console.log(\"gagal : \", error));\n      }).catch(error => console.log(\"gagal : \", error));\n    },\n    hapusKeranjang: function (id) {\n      // axios hapus data\n      axios.delete(\"http://localhost:3000/checkout/\" + id).then(() => {\n        this.$toast.success(`Pesanan berhasil dihapus`, {\n          duration: 3000,\n          message: `Pesanan berhasil dihapus`,\n          position: `top-right`,\n          dismissible: true\n        });\n        // setelah dihapus, panggil kembali data yg tersisa\n        axios.get(\"http://localhost:3000/checkout\").then(response => this.setCheckout(response.data)).catch(error => console.log(\"gagal : \", error));\n      })\n      // axios gagal mengambil data\n      .catch(error => console.log(\"gagal : \", error));\n    }\n  }\n};","map":{"version":3,"mappings":"AAgDA;AAEA;EACAA;EACAC;EACAC;IAEAC;MACA;MAAA;MACAC;IACA;IAEAC;MACAC,MACAC,4CACA;QACAC;QACAC;QACAC;QACAC;UACAH;UACAI;UACAC;UACAC;UACAC;UACAC;QACA;MACA,GACAC;QACA;QACA;UACAC;UACAC;UACAC;UACAC;QACA;QACA;QACAf,MACAgB,sCACAL,kDACAM;MACA,GACAA;IAEA;IAEAC;MACA;MACAlB,MACAmB,+CACAR;QACA;UACAC;UACAC;UACAC;UACAC;QACA;QACA;QACAf,MACAgB,sCACAL,kDACAM;MACA;MACA;MAAA,CACAA;IACA;EACA;AACA","names":["name","props","methods","setCheckout","console","ubahKeranjang","axios","put","id","jumlah","size","products","kode","nama","harga","is_ready","gambar","then","duration","message","position","dismissible","get","catch","hapusKeranjang","delete"],"sourceRoot":"src/components","sources":["ModalDetail.vue"],"sourcesContent":["<template>\n \n     <!-- MODAL BOX -->\n     <div>\n                    <b-modal id=\"modal-center\" centered title=\"Dalam Keranjang Belanjaan Saya\">\n                      <div class=\"row itemKeranjang\" v-for=\"item in checkoutBagProps\" :key=\"item.id\">\n                            <div class=\"col-md-3 itemDetail\">\n                            <div class=\"card border-0 shadow mx-2\">\n                              <img\n                                :src=\"'../assets/pakaian/'+item.products.gambar\"\n                                class=\"card-img-top\"\n                                alt=\"...\"\n                              />\n                           </div>\n                        </div>\n                        <div class=\"col-md-9 itemDetail\">\n                          <h4>{{item.products.nama}}</h4>\n                          <h6>Ukuran : {{item.size}}</h6>\n                          <h6>Jumlah : {{item.jumlah}}</h6>\n                          <h6>Harga/Item : Rp. {{item.products.harga}}</h6>\n                          <h6>Harga/Total : Rp. {{(item.products.harga * item.jumlah)}}</h6>\n                          \n                          <!-- MODAL BOX KECIL -->\n                          <form class=\"formCustom\" v-on:submit.prevent>\n                    <div class=\"form-group\">\n                              <select class=\"inputCustom\" placeholder=\"Ubah Size\" v-model=\"item.size\">\n                                <option value=\"Size S\" selected>Size S</option>\n                                <option value=\"30 Size M\">30 Size M</option>\n                                <option value=\"Size L\">Size L</option>\n                                <option value=\"Size XL\">Size XL</option>\n                            </select>\n                    </div>\n                    <div class=\"form-group\">\n                      <input type=\"number\" class=\"inputCustom\" placeholder=\"Ubah Jumlah\" v-model=\"item.jumlah\">\n                    </div>\n                    <b-button type=\"submit\" align=\"center\" class=\"btnUbah\" v-b-modal.modal-center @click=\"ubahKeranjang(item.id, item)\">Ubah</b-button>\n                    <b-button type=\"submit\" align=\"center\" class=\"btnHapus\" v-b-modal.modal-center @click=\"hapusKeranjang(item.id)\">Hapus</b-button>\n                  </form>\n\n                          </div>\n                        </div>\n                        <h5 class=\"totalBelanja\"><strong>Total Belanja ({{checkoutBagProps.length}} pcs) : Rp. {{totalHargaProps}}</strong></h5>\n                    </b-modal>\n                  </div>\n\n</template>\n\n<script>\nimport axios from \"axios\";\n\nexport default {\nname:`ModalDetail`,\nprops:[`checkoutBagProps`,`totalHargaProps`],\nmethods:{\n\n    setCheckout: function (data) {\n      this.checkoutBagProps = data;;\n      console.log(this.checkoutBagProps)\n    },\n\n    ubahKeranjang: function (id, item) {\n      axios\n      .put(\"http://localhost:3000/checkout/\"+id,\n      {\n        id : item.id,\n        jumlah: item.jumlah,\n        size : item.size,\n        products: {\n          id: item.products.id,\n          kode: item.products.kode,\n          nama: item.products.nama,\n          harga: item.products.harga,\n          is_ready: item.products.is_ready,\n          gambar: item.products.gambar,\n        },\n      })\n      .then(() => { \n      // this.$router.push({ path : '/keranjang' })\n      this.$toast.success(`Pesanan ditambahkan ke keranjang`,{\n        duration : 3000,\n        message : `Pesanan berhasil ditambahkan`,\n        position : `top-right`,\n        dismissible : true,\n      })\n        //  setelah post axios, data checkout akan langsung ditampilkan\n        axios\n      .get(\"http://localhost:3000/checkout\")\n      .then((response) => this.setCheckout(response.data))\n      .catch((error) => console.log(\"gagal : \", error));  \n    })\n      .catch((error) => console.log(\"gagal : \", error));\n     \n    },\n  \n    hapusKeranjang: function (id) {\n      // axios hapus data\n      axios\n        .delete(\"http://localhost:3000/checkout/\" + id)\n        .then(() => {\n          this.$toast.success(`Pesanan berhasil dihapus`, {\n            duration: 3000,\n            message: `Pesanan berhasil dihapus`,\n            position: `top-right`,\n            dismissible: true,\n          });\n          // setelah dihapus, panggil kembali data yg tersisa\n          axios\n            .get(\"http://localhost:3000/checkout\")\n            .then((response) => this.setCheckout(response.data))\n            .catch((error) => console.log(\"gagal : \", error));\n        })\n        // axios gagal mengambil data\n        .catch((error) => console.log(\"gagal : \", error));\n    },\n}\n}\n</script>\n\n<style scoped>\n.btnUbah {\n  background-color: rgb(230, 208, 19);\n  height: 40px;\n  border-radius: 5px;\n  border: 1px solid transparent;\n  /* margin: 5px auto; */\n}\n\n.btnHapus {\n  background-color: rgb(230, 19, 19);\n  height: 40px;\n  border-radius: 5px;\n  border: 1px solid transparent;\n  /* margin: 5px auto; */\n}\n  \n\n.formCustom {\n  display: flex;\n  justify-content: space-around;\n}\n\n.inputCustom {\n  border-radius: 5px;\n  background-color: transparent;\n  /* margin: 5px; */\n  text-align: center;\n  display: flex;\n  border: 1px solid grey;\n  width: 100px;\n  height: 40px;\n}\n\n.totalBelanja  {\n  text-align: center;\n  color: rgb(35, 129, 98);\n  display: block;\n  margin-top: 30px;\n}\n.itemDetail {\n  border-bottom: 1px solid rgb(209, 209, 209);\n  padding: 5px;\n}\n</style>"]},"metadata":{},"sourceType":"module","externalDependencies":[]}